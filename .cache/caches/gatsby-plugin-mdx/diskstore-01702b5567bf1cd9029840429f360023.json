{"expireTime":9007200867590238000,"key":"gatsby-plugin-mdx-entire-payload-92cd229410a2282e50c1e7345bf70480-","val":{"mdast":{"type":"root","children":[{"type":"jsx","value":"<IntroParagraph>","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":17,"offset":17},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Using the ","position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":11,"offset":29},"indent":[]}},{"type":"link","title":null,"url":"https://greensock.com/","children":[{"type":"text","value":"GreenSock","position":{"start":{"line":4,"column":12,"offset":30},"end":{"line":4,"column":21,"offset":39},"indent":[]}}],"position":{"start":{"line":4,"column":11,"offset":29},"end":{"line":4,"column":46,"offset":64},"indent":[]}},{"type":"text","value":" web animation library (also known as gsap) in vanilla JavaScript isn't too complex. But when we want it to play nicely with a frontend framework like React, we run into some finicky issues.","position":{"start":{"line":4,"column":46,"offset":64},"end":{"line":4,"column":236,"offset":254},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":236,"offset":254},"indent":[]}},{"type":"jsx","value":"</IntroParagraph>","position":{"start":{"line":6,"column":1,"offset":256},"end":{"line":6,"column":18,"offset":273},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This guide is specifically about using React Hooks with GreenSock, as many of the ","position":{"start":{"line":8,"column":1,"offset":275},"end":{"line":8,"column":83,"offset":357},"indent":[]}},{"type":"link","title":null,"url":"https://greensock.com/react/","children":[{"type":"text","value":"existing guides","position":{"start":{"line":8,"column":84,"offset":358},"end":{"line":8,"column":99,"offset":373},"indent":[]}}],"position":{"start":{"line":8,"column":83,"offset":357},"end":{"line":8,"column":130,"offset":404},"indent":[]}},{"type":"text","value":" only explain how to set it up with the old style of class components.","position":{"start":{"line":8,"column":130,"offset":404},"end":{"line":8,"column":200,"offset":474},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":275},"end":{"line":8,"column":200,"offset":474},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This isn't an introduction to the GreenSock library itself – head over to my post on [","position":{"start":{"line":10,"column":1,"offset":476},"end":{"line":10,"column":87,"offset":562},"indent":[]}},{"type":"linkReference","identifier":"the bare essentials of greensock","label":"The Bare Essentials of Greensock","referenceType":"shortcut","children":[{"type":"text","value":"The Bare Essentials of Greensock","position":{"start":{"line":10,"column":88,"offset":563},"end":{"line":10,"column":120,"offset":595},"indent":[]}}],"position":{"start":{"line":10,"column":87,"offset":562},"end":{"line":10,"column":121,"offset":596},"indent":[]}},{"type":"text","value":"] for that.","position":{"start":{"line":10,"column":121,"offset":596},"end":{"line":10,"column":132,"offset":607},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":476},"end":{"line":10,"column":132,"offset":607},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":12,"column":1,"offset":609},"end":{"line":12,"column":7,"offset":615},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"React, Meet GreenSock","position":{"start":{"line":14,"column":4,"offset":620},"end":{"line":14,"column":25,"offset":641},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":617},"end":{"line":14,"column":25,"offset":641},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The issue with combining these two libraries is that React acts as a DOM interloper – it sits between the code we write and the DOM, managing it for us.","position":{"start":{"line":16,"column":1,"offset":643},"end":{"line":16,"column":153,"offset":795},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":643},"end":{"line":16,"column":153,"offset":795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"React builds it's own internal \"tree\" of DOM nodes based off our code, and only updates the actual DOM as needed (a concept previously known as the [","position":{"start":{"line":18,"column":1,"offset":797},"end":{"line":18,"column":150,"offset":946},"indent":[]}},{"type":"linkReference","identifier":"react virtual dom","label":"React Virtual DOM","referenceType":"shortcut","children":[{"type":"text","value":"React Virtual DOM","position":{"start":{"line":18,"column":151,"offset":947},"end":{"line":18,"column":168,"offset":964},"indent":[]}}],"position":{"start":{"line":18,"column":150,"offset":946},"end":{"line":18,"column":169,"offset":965},"indent":[]}},{"type":"text","value":"]) ","position":{"start":{"line":18,"column":169,"offset":965},"end":{"line":18,"column":172,"offset":968},"indent":[]}},{"type":"jsx","value":"<Footnote idName={1}>","position":{"start":{"line":18,"column":172,"offset":968},"end":{"line":18,"column":193,"offset":989},"indent":[]}},{"type":"text","value":"The React team has gone off the term of the ","position":{"start":{"line":18,"column":193,"offset":989},"end":{"line":18,"column":237,"offset":1033},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"virtual DOM","position":{"start":{"line":18,"column":238,"offset":1034},"end":{"line":18,"column":249,"offset":1045},"indent":[]}}],"position":{"start":{"line":18,"column":237,"offset":1033},"end":{"line":18,"column":250,"offset":1046},"indent":[]}},{"type":"text","value":" and prefer to talk about the ","position":{"start":{"line":18,"column":250,"offset":1046},"end":{"line":18,"column":280,"offset":1076},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"render tree","position":{"start":{"line":18,"column":281,"offset":1077},"end":{"line":18,"column":292,"offset":1088},"indent":[]}}],"position":{"start":{"line":18,"column":280,"offset":1076},"end":{"line":18,"column":293,"offset":1089},"indent":[]}},{"type":"text","value":". Potatoes, potataos. For more on how the virtual DOM works, I have an ","position":{"start":{"line":18,"column":293,"offset":1089},"end":{"line":18,"column":364,"offset":1160},"indent":[]}},{"type":"link","title":null,"url":"/react-vdom","children":[{"type":"text","value":"illustrated guide","position":{"start":{"line":18,"column":365,"offset":1161},"end":{"line":18,"column":382,"offset":1178},"indent":[]}}],"position":{"start":{"line":18,"column":364,"offset":1160},"end":{"line":18,"column":396,"offset":1192},"indent":[]}},{"type":"jsx","value":"</Footnote>","position":{"start":{"line":18,"column":396,"offset":1192},"end":{"line":18,"column":407,"offset":1203},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":797},"end":{"line":18,"column":407,"offset":1203},"indent":[]}},{"type":"jsx","value":"<FullWidthImage alt=\"A diagram of React generating all the DOM nodes for us\" src=\"https://res.cloudinary.com/dg3gyk0gu/image/upload/c_scale,f_auto,q_100,w_1400/v1600973172/maggieappleton.com/notes/gsap/react-greensock-2.png\" />","position":{"start":{"line":20,"column":1,"offset":1205},"end":{"line":20,"column":228,"offset":1432},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Meanwhile, the GreenSock library usually works by directly animating our DOM elements. Perhaps you can sense the tension in the room...","position":{"start":{"line":22,"column":1,"offset":1434},"end":{"line":22,"column":136,"offset":1569},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1434},"end":{"line":22,"column":136,"offset":1569},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since the GreenSock library needs access to the DOM  in order to animate it, we need to tell React about our Greensock animations. Otherwise the two end up in awkward arguments that can end in tears (primarily mine).","position":{"start":{"line":24,"column":1,"offset":1571},"end":{"line":24,"column":217,"offset":1787},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1571},"end":{"line":24,"column":217,"offset":1787},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":26,"column":1,"offset":1789},"end":{"line":26,"column":7,"offset":1795},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Bring in the React Hooks","position":{"start":{"line":28,"column":4,"offset":1800},"end":{"line":28,"column":28,"offset":1824},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1797},"end":{"line":28,"column":28,"offset":1824},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There's two essential React hooks we'll use to connect our React code to our  Greensock code: ","position":{"start":{"line":30,"column":1,"offset":1826},"end":{"line":30,"column":95,"offset":1920},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"useRef","position":{"start":{"line":30,"column":97,"offset":1922},"end":{"line":30,"column":103,"offset":1928},"indent":[]}}],"position":{"start":{"line":30,"column":95,"offset":1920},"end":{"line":30,"column":105,"offset":1930},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":30,"column":105,"offset":1930},"end":{"line":30,"column":110,"offset":1935},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"useEffect","position":{"start":{"line":30,"column":112,"offset":1937},"end":{"line":30,"column":121,"offset":1946},"indent":[]}}],"position":{"start":{"line":30,"column":110,"offset":1935},"end":{"line":30,"column":123,"offset":1948},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1826},"end":{"line":30,"column":123,"offset":1948},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":32,"column":1,"offset":1950},"end":{"line":32,"column":7,"offset":1956},"indent":[]}},{"type":"jsx","value":"<SimpleCard width=\"740px\">","position":{"start":{"line":34,"column":1,"offset":1958},"end":{"line":34,"column":27,"offset":1984},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"strong","children":[{"type":"text","value":"useRef","position":{"start":{"line":36,"column":8,"offset":1993},"end":{"line":36,"column":14,"offset":1999},"indent":[]}}],"position":{"start":{"line":36,"column":6,"offset":1991},"end":{"line":36,"column":16,"offset":2001},"indent":[]}},{"type":"text","value":" lets us access and directly target our DOM nodes","position":{"start":{"line":36,"column":16,"offset":2001},"end":{"line":36,"column":65,"offset":2050},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1986},"end":{"line":36,"column":65,"offset":2050},"indent":[]}},{"type":"jsx","value":"</SimpleCard>","position":{"start":{"line":38,"column":1,"offset":2052},"end":{"line":38,"column":14,"offset":2065},"indent":[]}},{"type":"jsx","value":"<SimpleCard width=\"740px\">","position":{"start":{"line":40,"column":1,"offset":2067},"end":{"line":40,"column":27,"offset":2093},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"strong","children":[{"type":"text","value":"useEffect","position":{"start":{"line":42,"column":8,"offset":2102},"end":{"line":42,"column":17,"offset":2111},"indent":[]}}],"position":{"start":{"line":42,"column":6,"offset":2100},"end":{"line":42,"column":19,"offset":2113},"indent":[]}},{"type":"text","value":" lets us to perform side effects – any functions or data requests that we want to run ","position":{"start":{"line":42,"column":19,"offset":2113},"end":{"line":42,"column":105,"offset":2199},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"after","position":{"start":{"line":42,"column":106,"offset":2200},"end":{"line":42,"column":111,"offset":2205},"indent":[]}}],"position":{"start":{"line":42,"column":105,"offset":2199},"end":{"line":42,"column":112,"offset":2206},"indent":[]}},{"type":"text","value":" rendering the component to the DOM","position":{"start":{"line":42,"column":112,"offset":2206},"end":{"line":42,"column":147,"offset":2241},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":2095},"end":{"line":42,"column":147,"offset":2241},"indent":[]}},{"type":"jsx","value":"</SimpleCard>","position":{"start":{"line":44,"column":1,"offset":2243},"end":{"line":44,"column":14,"offset":2256},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you're not completely comfortable with ","position":{"start":{"line":46,"column":1,"offset":2258},"end":{"line":46,"column":43,"offset":2300},"indent":[]}},{"type":"link","title":null,"url":"https://www.freecodecamp.org/news/beginners-guide-to-using-react-hooks/","children":[{"type":"text","value":"React Hooks","position":{"start":{"line":46,"column":44,"offset":2301},"end":{"line":46,"column":55,"offset":2312},"indent":[]}}],"position":{"start":{"line":46,"column":43,"offset":2300},"end":{"line":46,"column":129,"offset":2386},"indent":[]}},{"type":"text","value":" yet and those technical explanations mean nothing to you, don't worry we're going to slowly walk through this.  With illustrations. Because  who the fork properly understands ","position":{"start":{"line":46,"column":129,"offset":2386},"end":{"line":46,"column":305,"offset":2562},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"\"side effects\"","position":{"start":{"line":46,"column":306,"offset":2563},"end":{"line":46,"column":320,"offset":2577},"indent":[]}}],"position":{"start":{"line":46,"column":305,"offset":2562},"end":{"line":46,"column":321,"offset":2578},"indent":[]}},{"type":"text","value":"?","position":{"start":{"line":46,"column":321,"offset":2578},"end":{"line":46,"column":322,"offset":2579},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2258},"end":{"line":46,"column":322,"offset":2579},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":48,"column":1,"offset":2581},"end":{"line":48,"column":4,"offset":2584},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Getting Setup","position":{"start":{"line":50,"column":5,"offset":2590},"end":{"line":50,"column":18,"offset":2603},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2586},"end":{"line":50,"column":18,"offset":2603},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We first need to run ","position":{"start":{"line":52,"column":1,"offset":2605},"end":{"line":52,"column":22,"offset":2626},"indent":[]}},{"type":"inlineCode","value":"yarn install gsap","position":{"start":{"line":52,"column":22,"offset":2626},"end":{"line":52,"column":41,"offset":2645},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":52,"column":41,"offset":2645},"end":{"line":52,"column":45,"offset":2649},"indent":[]}},{"type":"inlineCode","value":"npm install gsap","position":{"start":{"line":52,"column":45,"offset":2649},"end":{"line":52,"column":63,"offset":2667},"indent":[]}},{"type":"text","value":" into our React project repo ","position":{"start":{"line":52,"column":63,"offset":2667},"end":{"line":52,"column":92,"offset":2696},"indent":[]}},{"type":"jsx","value":"<Footnote idName={2}>","position":{"start":{"line":52,"column":92,"offset":2696},"end":{"line":52,"column":113,"offset":2717},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"gsap","position":{"start":{"line":52,"column":115,"offset":2719},"end":{"line":52,"column":119,"offset":2723},"indent":[]}}],"position":{"start":{"line":52,"column":113,"offset":2717},"end":{"line":52,"column":121,"offset":2725},"indent":[]}},{"type":"text","value":" is short for ","position":{"start":{"line":52,"column":121,"offset":2725},"end":{"line":52,"column":135,"offset":2739},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"GreenSock Animation Platform","position":{"start":{"line":52,"column":136,"offset":2740},"end":{"line":52,"column":164,"offset":2768},"indent":[]}}],"position":{"start":{"line":52,"column":135,"offset":2739},"end":{"line":52,"column":165,"offset":2769},"indent":[]}},{"type":"text","value":" and it's the way we reference the Greensock library in all our code sytax","position":{"start":{"line":52,"column":165,"offset":2769},"end":{"line":52,"column":239,"offset":2843},"indent":[]}},{"type":"jsx","value":"</Footnote>","position":{"start":{"line":52,"column":239,"offset":2843},"end":{"line":52,"column":250,"offset":2854},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2605},"end":{"line":52,"column":250,"offset":2854},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":54,"column":1,"offset":2856},"end":{"line":54,"column":7,"offset":2862},"indent":[]}},{"type":"jsx","value":"<SimpleCard width=\"740px\" center>","position":{"start":{"line":56,"column":1,"offset":2864},"end":{"line":56,"column":34,"offset":2897},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Feel free to open up a Codesandbox project to work through the steps while you read. I've set one up for you with React and Greensock already installed:","position":{"start":{"line":58,"column":1,"offset":2899},"end":{"line":58,"column":153,"offset":3051},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2899},"end":{"line":58,"column":153,"offset":3051},"indent":[]}},{"type":"jsx","value":"<p><a noTip href=\"https://codesandbox.io/s/reacthooks-greensock-demo-xjoti?file=/src/AnimatedBox.js\"><button style={{marginTop: '0.2em'}}>Jump into CodeSandbox</button> </a></p>","position":{"start":{"line":60,"column":1,"offset":3053},"end":{"line":60,"column":178,"offset":3230},"indent":[]}},{"type":"jsx","value":"</SimpleCard>","position":{"start":{"line":62,"column":1,"offset":3232},"end":{"line":62,"column":14,"offset":3245},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":64,"column":1,"offset":3247},"end":{"line":64,"column":7,"offset":3253},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Building our Animation Component","position":{"start":{"line":66,"column":5,"offset":3259},"end":{"line":66,"column":37,"offset":3291},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3255},"end":{"line":66,"column":37,"offset":3291},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let's start by creating a React component called ","position":{"start":{"line":68,"column":1,"offset":3293},"end":{"line":68,"column":50,"offset":3342},"indent":[]}},{"type":"inlineCode","value":"<AnimatedBox/>","position":{"start":{"line":68,"column":50,"offset":3342},"end":{"line":68,"column":66,"offset":3358},"indent":[]}},{"type":"text","value":" that is going to hold all our Greensock code. We're going to build a simple  ","position":{"start":{"line":68,"column":66,"offset":3358},"end":{"line":68,"column":144,"offset":3436},"indent":[]}},{"type":"inlineCode","value":"<div>","position":{"start":{"line":68,"column":144,"offset":3436},"end":{"line":68,"column":151,"offset":3443},"indent":[]}},{"type":"text","value":"  element and have it animate across the page (exciting!).","position":{"start":{"line":68,"column":151,"offset":3443},"end":{"line":68,"column":209,"offset":3501},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3293},"end":{"line":68,"column":209,"offset":3501},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We'll need to import the Greensock library into our component with ","position":{"start":{"line":70,"column":1,"offset":3503},"end":{"line":70,"column":68,"offset":3570},"indent":[]}},{"type":"inlineCode","value":"import { gsap }from 'gsap'","position":{"start":{"line":70,"column":68,"offset":3570},"end":{"line":70,"column":96,"offset":3598},"indent":[]}},{"type":"text","value":", as well as React and our two hooks with ","position":{"start":{"line":70,"column":96,"offset":3598},"end":{"line":70,"column":138,"offset":3640},"indent":[]}},{"type":"inlineCode","value":"import React, { useRef, useEffect } from 'react'","position":{"start":{"line":70,"column":138,"offset":3640},"end":{"line":70,"column":188,"offset":3690},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":3503},"end":{"line":70,"column":188,"offset":3690},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"import React, { useRef, useEffect } from 'react'\nimport { gsap }from 'gsap'\n\nconst Animation = () => {\n    return (\n        <div style={{\n            width: '160px',\n            height: '160px',\n            background: 'salmon'\n        }} />\n    )\n}\n","position":{"start":{"line":72,"column":1,"offset":3692},"end":{"line":86,"column":4,"offset":3952},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"<p>I've set some basic width, height, and colour CSS styles on our div to make it visible on the page.</p>","position":{"start":{"line":88,"column":1,"offset":3954},"end":{"line":88,"column":107,"offset":4060},"indent":[]}},{"type":"jsx","value":"<div style={{ margin: '2em auto', width: '160px', height: '160px', background: 'salmon', borderRadius: '4px' }} />","position":{"start":{"line":90,"column":1,"offset":4062},"end":{"line":90,"column":115,"offset":4176},"indent":[]}},{"type":"jsx","value":"<Center>","position":{"start":{"line":92,"column":1,"offset":4178},"end":{"line":92,"column":9,"offset":4186},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Good looking div, right?","position":{"start":{"line":94,"column":1,"offset":4188},"end":{"line":94,"column":25,"offset":4212},"indent":[]}},{"type":"break","position":{"start":{"line":94,"column":25,"offset":4212},"end":{"line":95,"column":1,"offset":4215},"indent":[1]}},{"type":"text","value":"Salmon is always the right colour choice.","position":{"start":{"line":95,"column":1,"offset":4215},"end":{"line":95,"column":42,"offset":4256},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":4188},"end":{"line":95,"column":42,"offset":4256},"indent":[1]}},{"type":"jsx","value":"</Center>","position":{"start":{"line":97,"column":1,"offset":4258},"end":{"line":97,"column":10,"offset":4267},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":102,"column":1,"offset":4272},"end":{"line":102,"column":4,"offset":4275},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Adding the useRef Hook","position":{"start":{"line":104,"column":4,"offset":4280},"end":{"line":104,"column":26,"offset":4302},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":4277},"end":{"line":104,"column":26,"offset":4302},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We're now going to add ","position":{"start":{"line":106,"column":1,"offset":4304},"end":{"line":106,"column":24,"offset":4327},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"references","position":{"start":{"line":106,"column":25,"offset":4328},"end":{"line":106,"column":35,"offset":4338},"indent":[]}}],"position":{"start":{"line":106,"column":24,"offset":4327},"end":{"line":106,"column":36,"offset":4339},"indent":[]}},{"type":"text","value":" to our animation with the ","position":{"start":{"line":106,"column":36,"offset":4339},"end":{"line":106,"column":63,"offset":4366},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"useRef","position":{"start":{"line":106,"column":65,"offset":4368},"end":{"line":106,"column":71,"offset":4374},"indent":[]}}],"position":{"start":{"line":106,"column":63,"offset":4366},"end":{"line":106,"column":73,"offset":4376},"indent":[]}},{"type":"text","value":" hook.","position":{"start":{"line":106,"column":73,"offset":4376},"end":{"line":106,"column":79,"offset":4382},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":4304},"end":{"line":106,"column":79,"offset":4382},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We create a new reference by adding ","position":{"start":{"line":108,"column":1,"offset":4384},"end":{"line":108,"column":37,"offset":4420},"indent":[]}},{"type":"inlineCode","value":"const boxRef = useRef()","position":{"start":{"line":108,"column":37,"offset":4420},"end":{"line":108,"column":62,"offset":4445},"indent":[]}},{"type":"text","value":" anywhere outside of our return statement. Call it anything you like, but ","position":{"start":{"line":108,"column":62,"offset":4445},"end":{"line":108,"column":136,"offset":4519},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"boxRef","position":{"start":{"line":108,"column":137,"offset":4520},"end":{"line":108,"column":143,"offset":4526},"indent":[]}}],"position":{"start":{"line":108,"column":136,"offset":4519},"end":{"line":108,"column":144,"offset":4527},"indent":[]}},{"type":"text","value":" is a good enough name for this example.","position":{"start":{"line":108,"column":144,"offset":4527},"end":{"line":108,"column":184,"offset":4567},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":4384},"end":{"line":108,"column":184,"offset":4567},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We then add a ","position":{"start":{"line":110,"column":1,"offset":4569},"end":{"line":110,"column":15,"offset":4583},"indent":[]}},{"type":"inlineCode","value":"ref={boxRef}","position":{"start":{"line":110,"column":15,"offset":4583},"end":{"line":110,"column":29,"offset":4597},"indent":[]}},{"type":"text","value":" attribute on our ","position":{"start":{"line":110,"column":29,"offset":4597},"end":{"line":110,"column":47,"offset":4615},"indent":[]}},{"type":"inlineCode","value":"<div>","position":{"start":{"line":110,"column":47,"offset":4615},"end":{"line":110,"column":54,"offset":4622},"indent":[]}},{"type":"text","value":" element.","position":{"start":{"line":110,"column":54,"offset":4622},"end":{"line":110,"column":63,"offset":4631},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":4569},"end":{"line":110,"column":63,"offset":4631},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const Animation = () => {\n    const boxRef = useRef()\n\n    return (\n        <div ref={boxRef} style={{\n            width: '160px',\n            height: '160px',\n            background: 'salmon'\n        }} />\n    )\n}","position":{"start":{"line":112,"column":1,"offset":4633},"end":{"line":124,"column":4,"offset":4857},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This tells React we want to be able to control our ","position":{"start":{"line":126,"column":1,"offset":4859},"end":{"line":126,"column":52,"offset":4910},"indent":[]}},{"type":"inlineCode","value":"<div>","position":{"start":{"line":126,"column":52,"offset":4910},"end":{"line":126,"column":59,"offset":4917},"indent":[]}},{"type":"text","value":" element with the ","position":{"start":{"line":126,"column":59,"offset":4917},"end":{"line":126,"column":77,"offset":4935},"indent":[]}},{"type":"inlineCode","value":"boxRef","position":{"start":{"line":126,"column":77,"offset":4935},"end":{"line":126,"column":85,"offset":4943},"indent":[]}},{"type":"text","value":" reference once our component is mounted onto the DOM.","position":{"start":{"line":126,"column":85,"offset":4943},"end":{"line":126,"column":139,"offset":4997},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":4859},"end":{"line":126,"column":139,"offset":4997},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":128,"column":1,"offset":4999},"end":{"line":128,"column":4,"offset":5002},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Adding the useEffect Hook","position":{"start":{"line":130,"column":4,"offset":5007},"end":{"line":130,"column":29,"offset":5032},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":5004},"end":{"line":130,"column":29,"offset":5032},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Next we're going to add our ","position":{"start":{"line":132,"column":1,"offset":5034},"end":{"line":132,"column":29,"offset":5062},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"useEffect","position":{"start":{"line":132,"column":31,"offset":5064},"end":{"line":132,"column":40,"offset":5073},"indent":[]}}],"position":{"start":{"line":132,"column":29,"offset":5062},"end":{"line":132,"column":42,"offset":5075},"indent":[]}},{"type":"text","value":" hook, and write our GreenSock animation inside of it.","position":{"start":{"line":132,"column":42,"offset":5075},"end":{"line":132,"column":96,"offset":5129},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":5034},"end":{"line":132,"column":96,"offset":5129},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you're already familiar with greensock this will look fairly straightforward.","position":{"start":{"line":134,"column":1,"offset":5131},"end":{"line":134,"column":81,"offset":5211},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":5131},"end":{"line":134,"column":81,"offset":5211},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const Animation = () => {\n    const boxRef = useRef()\n\n    useEffect(() => {\n        gsap.to([boxRef.current], {\n            x: '400px',\n            duration: 2\n        })\n    })\n\n    return (\n        <div ref={boxRef} style={{\n            width: '160px',\n            height: '160px',\n            background: 'salmon'\n        }} />\n    )\n}","position":{"start":{"line":136,"column":1,"offset":5213},"end":{"line":155,"column":4,"offset":5562},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":" We declare a normal ","position":{"start":{"line":157,"column":1,"offset":5564},"end":{"line":157,"column":22,"offset":5585},"indent":[]}},{"type":"inlineCode","value":"gsap.to()","position":{"start":{"line":157,"column":22,"offset":5585},"end":{"line":157,"column":33,"offset":5596},"indent":[]}},{"type":"text","value":" tween, but instead of passing in an id or class name as the target element, we use ","position":{"start":{"line":157,"column":33,"offset":5596},"end":{"line":157,"column":117,"offset":5680},"indent":[]}},{"type":"inlineCode","value":"[boxRef.current]","position":{"start":{"line":157,"column":117,"offset":5680},"end":{"line":157,"column":135,"offset":5698},"indent":[]}},{"type":"text","value":". ","position":{"start":{"line":157,"column":135,"offset":5698},"end":{"line":157,"column":137,"offset":5700},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":5564},"end":{"line":157,"column":137,"offset":5700},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":" This means we want gsap to animate the ","position":{"start":{"line":159,"column":1,"offset":5703},"end":{"line":159,"column":41,"offset":5743},"indent":[]}},{"type":"inlineCode","value":".current","position":{"start":{"line":159,"column":41,"offset":5743},"end":{"line":159,"column":51,"offset":5753},"indent":[]}},{"type":"text","value":" property of our ","position":{"start":{"line":159,"column":51,"offset":5753},"end":{"line":159,"column":68,"offset":5770},"indent":[]}},{"type":"inlineCode","value":"boxRef","position":{"start":{"line":159,"column":68,"offset":5770},"end":{"line":159,"column":76,"offset":5778},"indent":[]}},{"type":"text","value":" reference – which is the ","position":{"start":{"line":159,"column":76,"offset":5778},"end":{"line":159,"column":102,"offset":5804},"indent":[]}},{"type":"inlineCode","value":"<div>","position":{"start":{"line":159,"column":102,"offset":5804},"end":{"line":159,"column":109,"offset":5811},"indent":[]}},{"type":"text","value":" element we put that reference on. ","position":{"start":{"line":159,"column":109,"offset":5811},"end":{"line":159,"column":144,"offset":5846},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":5703},"end":{"line":159,"column":144,"offset":5846},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"gsap.to([boxRef.current], {\n\n})","position":{"start":{"line":160,"column":1,"offset":5847},"end":{"line":164,"column":4,"offset":5888},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":" We then pass in our variables object, which tells Greensock to move our div 400px along the ","position":{"start":{"line":166,"column":1,"offset":5890},"end":{"line":166,"column":94,"offset":5983},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"x","position":{"start":{"line":166,"column":95,"offset":5984},"end":{"line":166,"column":96,"offset":5985},"indent":[]}}],"position":{"start":{"line":166,"column":94,"offset":5983},"end":{"line":166,"column":97,"offset":5986},"indent":[]}},{"type":"text","value":" axis over a duration of 2 seconds:","position":{"start":{"line":166,"column":97,"offset":5986},"end":{"line":166,"column":132,"offset":6021},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":5890},"end":{"line":166,"column":132,"offset":6021},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"{ x: 400px, duration: 2 }","position":{"start":{"line":167,"column":1,"offset":6022},"end":{"line":169,"column":5,"offset":6060},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And thus, our div animates...","position":{"start":{"line":171,"column":1,"offset":6062},"end":{"line":171,"column":30,"offset":6091},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":6062},"end":{"line":171,"column":30,"offset":6091},"indent":[]}},{"type":"jsx","value":"<p>","position":{"start":{"line":173,"column":1,"offset":6093},"end":{"line":173,"column":4,"offset":6096},"indent":[]}},{"type":"jsx","value":"<Tween to={{\n    scrollTrigger: {\n        trigger: '#boxRef',\n        start: 'top 60%',\n        end: '+=500',\n        scrub: true,\n    },\n        x: '400px'\n    }} duration={2} ease=\"back.out(1.3)\">\n    <div id=\"boxRef\" style={{ margin: '2em', width: '160px', height: '160px', background: 'salmon', borderRadius: '4px' }} />\n</Tween>","position":{"start":{"line":175,"column":1,"offset":6098},"end":{"line":185,"column":9,"offset":6431},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"</p>","position":{"start":{"line":187,"column":1,"offset":6433},"end":{"line":187,"column":5,"offset":6437},"indent":[]}},{"type":"jsx","value":"<Center>","position":{"start":{"line":189,"column":1,"offset":6439},"end":{"line":189,"column":9,"offset":6447},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Tada ","position":{"start":{"line":191,"column":3,"offset":6451},"end":{"line":191,"column":8,"offset":6456},"indent":[]}},{"type":"jsx","value":"<span>","position":{"start":{"line":191,"column":8,"offset":6456},"end":{"line":191,"column":14,"offset":6462},"indent":[]}},{"type":"text","value":"🎉","position":{"start":{"line":191,"column":14,"offset":6462},"end":{"line":191,"column":16,"offset":6464},"indent":[]}},{"type":"jsx","value":"</span>","position":{"start":{"line":191,"column":16,"offset":6464},"end":{"line":191,"column":23,"offset":6471},"indent":[]}}],"position":{"start":{"line":191,"column":1,"offset":6449},"end":{"line":191,"column":23,"offset":6471},"indent":[]}},{"type":"jsx","value":"</Center>","position":{"start":{"line":193,"column":1,"offset":6473},"end":{"line":193,"column":10,"offset":6482},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So by this point, you hopefully have a working animation in that ","position":{"start":{"line":195,"column":1,"offset":6484},"end":{"line":195,"column":66,"offset":6549},"indent":[]}},{"type":"link","title":null,"url":"https://codesandbox.io/s/reacthooks-greensock-demo-xjoti?file=/src/AnimatedBox.js","children":[{"type":"text","value":"Codesandbox project","position":{"start":{"line":195,"column":67,"offset":6550},"end":{"line":195,"column":86,"offset":6569},"indent":[]}}],"position":{"start":{"line":195,"column":66,"offset":6549},"end":{"line":195,"column":170,"offset":6653},"indent":[]}},{"type":"text","value":" or a local repo.","position":{"start":{"line":195,"column":170,"offset":6653},"end":{"line":195,"column":187,"offset":6670},"indent":[]}}],"position":{"start":{"line":195,"column":1,"offset":6484},"end":{"line":195,"column":187,"offset":6670},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":197,"column":1,"offset":6672},"end":{"line":197,"column":4,"offset":6675},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you don't feel like mucking around with ","position":{"start":{"line":199,"column":1,"offset":6677},"end":{"line":199,"column":44,"offset":6720},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"useRef","position":{"start":{"line":199,"column":46,"offset":6722},"end":{"line":199,"column":52,"offset":6728},"indent":[]}}],"position":{"start":{"line":199,"column":44,"offset":6720},"end":{"line":199,"column":54,"offset":6730},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":199,"column":54,"offset":6730},"end":{"line":199,"column":59,"offset":6735},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"useEffect","position":{"start":{"line":199,"column":61,"offset":6737},"end":{"line":199,"column":70,"offset":6746},"indent":[]}}],"position":{"start":{"line":199,"column":59,"offset":6735},"end":{"line":199,"column":72,"offset":6748},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":199,"column":72,"offset":6748},"end":{"line":199,"column":74,"offset":6750},"indent":[]}},{"type":"link","title":null,"url":"https://johnlindquist.com/use-greensock-with-react-hooks/","children":[{"type":"text","value":"John Lindquist","position":{"start":{"line":199,"column":75,"offset":6751},"end":{"line":199,"column":89,"offset":6765},"indent":[]}}],"position":{"start":{"line":199,"column":74,"offset":6750},"end":{"line":199,"column":149,"offset":6825},"indent":[]}},{"type":"text","value":" created a simple React hook called ","position":{"start":{"line":199,"column":149,"offset":6825},"end":{"line":199,"column":185,"offset":6861},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"use-gsap","position":{"start":{"line":199,"column":187,"offset":6863},"end":{"line":199,"column":195,"offset":6871},"indent":[]}}],"position":{"start":{"line":199,"column":185,"offset":6861},"end":{"line":199,"column":197,"offset":6873},"indent":[]}},{"type":"text","value":" that hides them away.","position":{"start":{"line":199,"column":197,"offset":6873},"end":{"line":199,"column":219,"offset":6895},"indent":[]}}],"position":{"start":{"line":199,"column":1,"offset":6677},"end":{"line":199,"column":219,"offset":6895},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"GreenSock Animations with React Hooks\",\"slug\":\"greensock-react\",\"updated\":\"2020-09-27T00:00:00.000Z\",\"published\":true,\"type\":[\"note\"],\"topics\":[\"React\",\"Scrollytelling\",\"Design\",\"JavaScript\",\"Web Development\",\"Greensock\"],\"growthStage\":\"Budding\"}","position":{"start":{"line":203,"column":1,"offset":6899},"end":{"line":203,"column":285,"offset":7183},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":203,"column":285,"offset":7183}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"GreenSock Animations with React Hooks\",\n  \"slug\": \"greensock-react\",\n  \"updated\": \"2020-09-27T00:00:00.000Z\",\n  \"published\": true,\n  \"type\": [\"note\"],\n  \"topics\": [\"React\", \"Scrollytelling\", \"Design\", \"JavaScript\", \"Web Development\", \"Greensock\"],\n  \"growthStage\": \"Budding\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar IntroParagraph = makeShortcode(\"IntroParagraph\");\nvar Footnote = makeShortcode(\"Footnote\");\nvar FullWidthImage = makeShortcode(\"FullWidthImage\");\nvar SimpleCard = makeShortcode(\"SimpleCard\");\nvar Center = makeShortcode(\"Center\");\nvar Tween = makeShortcode(\"Tween\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(IntroParagraph, {\n    mdxType: \"IntroParagraph\"\n  }, mdx(\"p\", null, \"Using the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://greensock.com/\"\n  }), \"GreenSock\"), \" web animation library (also known as gsap) in vanilla JavaScript isn't too complex. But when we want it to play nicely with a frontend framework like React, we run into some finicky issues.\")), mdx(\"p\", null, \"This guide is specifically about using React Hooks with GreenSock, as many of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://greensock.com/react/\"\n  }), \"existing guides\"), \" only explain how to set it up with the old style of class components.\"), mdx(\"p\", null, \"This isn't an introduction to the GreenSock library itself \\u2013 head over to my post on [\", \"[The Bare Essentials of Greensock]\", \"] for that.\"), mdx(\"br\", null), mdx(\"h2\", null, \"React, Meet GreenSock\"), mdx(\"p\", null, \"The issue with combining these two libraries is that React acts as a DOM interloper \\u2013 it sits between the code we write and the DOM, managing it for us.\"), mdx(\"p\", null, \"React builds it's own internal \\\"tree\\\" of DOM nodes based off our code, and only updates the actual DOM as needed (a concept previously known as the [\", \"[React Virtual DOM]\", \"]) \", mdx(Footnote, {\n    idName: 1,\n    mdxType: \"Footnote\"\n  }, \"The React team has gone off the term of the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"virtual DOM\"), \" and prefer to talk about the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"render tree\"), \". Potatoes, potataos. For more on how the virtual DOM works, I have an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/react-vdom\"\n  }), \"illustrated guide\"))), mdx(FullWidthImage, {\n    alt: \"A diagram of React generating all the DOM nodes for us\",\n    src: \"https://res.cloudinary.com/dg3gyk0gu/image/upload/c_scale,f_auto,q_100,w_1400/v1600973172/maggieappleton.com/notes/gsap/react-greensock-2.png\",\n    mdxType: \"FullWidthImage\"\n  }), mdx(\"p\", null, \"Meanwhile, the GreenSock library usually works by directly animating our DOM elements. Perhaps you can sense the tension in the room...\"), mdx(\"p\", null, \"Since the GreenSock library needs access to the DOM  in order to animate it, we need to tell React about our Greensock animations. Otherwise the two end up in awkward arguments that can end in tears (primarily mine).\"), mdx(\"br\", null), mdx(\"h2\", null, \"Bring in the React Hooks\"), mdx(\"p\", null, \"There's two essential React hooks we'll use to connect our React code to our  Greensock code: \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useRef\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useEffect\")), mdx(\"br\", null), mdx(SimpleCard, {\n    width: \"740px\",\n    mdxType: \"SimpleCard\"\n  }, mdx(\"h4\", null, mdx(\"strong\", {\n    parentName: \"h4\"\n  }, \"useRef\"), \" lets us access and directly target our DOM nodes\")), mdx(SimpleCard, {\n    width: \"740px\",\n    mdxType: \"SimpleCard\"\n  }, mdx(\"h4\", null, mdx(\"strong\", {\n    parentName: \"h4\"\n  }, \"useEffect\"), \" lets us to perform side effects \\u2013 any functions or data requests that we want to run \", mdx(\"em\", {\n    parentName: \"h4\"\n  }, \"after\"), \" rendering the component to the DOM\")), mdx(\"p\", null, \"If you're not completely comfortable with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.freecodecamp.org/news/beginners-guide-to-using-react-hooks/\"\n  }), \"React Hooks\"), \" yet and those technical explanations mean nothing to you, don't worry we're going to slowly walk through this.  With illustrations. Because  who the fork properly understands \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\\"side effects\\\"\"), \"?\"), mdx(\"hr\", null), mdx(\"h3\", null, \"Getting Setup\"), mdx(\"p\", null, \"We first need to run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn install gsap\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm install gsap\"), \" into our React project repo \", mdx(Footnote, {\n    idName: 2,\n    mdxType: \"Footnote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"gsap\"), \" is short for \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"GreenSock Animation Platform\"), \" and it's the way we reference the Greensock library in all our code sytax\")), mdx(\"br\", null), mdx(SimpleCard, {\n    width: \"740px\",\n    center: true,\n    mdxType: \"SimpleCard\"\n  }, mdx(\"p\", null, \"Feel free to open up a Codesandbox project to work through the steps while you read. I've set one up for you with React and Greensock already installed:\"), mdx(\"p\", null, mdx(\"a\", {\n    noTip: true,\n    href: \"https://codesandbox.io/s/reacthooks-greensock-demo-xjoti?file=/src/AnimatedBox.js\"\n  }, mdx(\"button\", {\n    style: {\n      marginTop: '0.2em'\n    }\n  }, \"Jump into CodeSandbox\"), \" \"))), mdx(\"br\", null), mdx(\"h3\", null, \"Building our Animation Component\"), mdx(\"p\", null, \"Let's start by creating a React component called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<AnimatedBox/>\"), \" that is going to hold all our Greensock code. We're going to build a simple  \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div>\"), \"  element and have it animate across the page (exciting!).\"), mdx(\"p\", null, \"We'll need to import the Greensock library into our component with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import { gsap }from 'gsap'\"), \", as well as React and our two hooks with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import React, { useRef, useEffect } from 'react'\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React, { useRef, useEffect } from 'react'\\nimport { gsap }from 'gsap'\\n\\nconst Animation = () => {\\n    return (\\n        <div style={{\\n            width: '160px',\\n            height: '160px',\\n            background: 'salmon'\\n        }} />\\n    )\\n}\\n\\n\")), mdx(\"p\", null, \"I've set some basic width, height, and colour CSS styles on our div to make it visible on the page.\"), mdx(\"div\", {\n    style: {\n      margin: '2em auto',\n      width: '160px',\n      height: '160px',\n      background: 'salmon',\n      borderRadius: '4px'\n    }\n  }), mdx(Center, {\n    mdxType: \"Center\"\n  }, mdx(\"p\", null, \"Good looking div, right?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Salmon is always the right colour choice.\")), mdx(\"hr\", null), mdx(\"h2\", null, \"Adding the useRef Hook\"), mdx(\"p\", null, \"We're now going to add \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"references\"), \" to our animation with the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useRef\"), \" hook.\"), mdx(\"p\", null, \"We create a new reference by adding \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"const boxRef = useRef()\"), \" anywhere outside of our return statement. Call it anything you like, but \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"boxRef\"), \" is a good enough name for this example.\"), mdx(\"p\", null, \"We then add a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ref={boxRef}\"), \" attribute on our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div>\"), \" element.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const Animation = () => {\\n    const boxRef = useRef()\\n\\n    return (\\n        <div ref={boxRef} style={{\\n            width: '160px',\\n            height: '160px',\\n            background: 'salmon'\\n        }} />\\n    )\\n}\\n\")), mdx(\"p\", null, \"This tells React we want to be able to control our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div>\"), \" element with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"boxRef\"), \" reference once our component is mounted onto the DOM.\"), mdx(\"hr\", null), mdx(\"h2\", null, \"Adding the useEffect Hook\"), mdx(\"p\", null, \"Next we're going to add our \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useEffect\"), \" hook, and write our GreenSock animation inside of it.\"), mdx(\"p\", null, \"If you're already familiar with greensock this will look fairly straightforward.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const Animation = () => {\\n    const boxRef = useRef()\\n\\n    useEffect(() => {\\n        gsap.to([boxRef.current], {\\n            x: '400px',\\n            duration: 2\\n        })\\n    })\\n\\n    return (\\n        <div ref={boxRef} style={{\\n            width: '160px',\\n            height: '160px',\\n            background: 'salmon'\\n        }} />\\n    )\\n}\\n\")), mdx(\"p\", null, \" We declare a normal \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gsap.to()\"), \" tween, but instead of passing in an id or class name as the target element, we use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[boxRef.current]\"), \". \"), mdx(\"p\", null, \" This means we want gsap to animate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".current\"), \" property of our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"boxRef\"), \" reference \\u2013 which is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div>\"), \" element we put that reference on. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"gsap.to([boxRef.current], {\\n\\n})\\n\")), mdx(\"p\", null, \" We then pass in our variables object, which tells Greensock to move our div 400px along the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"x\"), \" axis over a duration of 2 seconds:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"{ x: 400px, duration: 2 }\\n\")), mdx(\"p\", null, \"And thus, our div animates...\"), mdx(\"p\", null, mdx(Tween, {\n    to: {\n      scrollTrigger: {\n        trigger: '#boxRef',\n        start: 'top 60%',\n        end: '+=500',\n        scrub: true\n      },\n      x: '400px'\n    },\n    duration: 2,\n    ease: \"back.out(1.3)\",\n    mdxType: \"Tween\"\n  }, mdx(\"div\", {\n    id: \"boxRef\",\n    style: {\n      margin: '2em',\n      width: '160px',\n      height: '160px',\n      background: 'salmon',\n      borderRadius: '4px'\n    }\n  }))), mdx(Center, {\n    mdxType: \"Center\"\n  }, mdx(\"h1\", null, \"Tada \", mdx(\"span\", null, \"\\uD83C\\uDF89\"))), mdx(\"p\", null, \"So by this point, you hopefully have a working animation in that \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://codesandbox.io/s/reacthooks-greensock-demo-xjoti?file=/src/AnimatedBox.js\"\n  }), \"Codesandbox project\"), \" or a local repo.\"), mdx(\"hr\", null), mdx(\"p\", null, \"If you don't feel like mucking around with \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useRef\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useEffect\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://johnlindquist.com/use-greensock-with-react-hooks/\"\n  }), \"John Lindquist\"), \" created a simple React hook called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"use-gsap\"), \" that hides them away.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"GreenSock Animations with React Hooks\",\n  \"slug\": \"greensock-react\",\n  \"updated\": \"2020-09-27T00:00:00.000Z\",\n  \"published\": true,\n  \"type\": [\"note\"],\n  \"topics\": [\"React\", \"Scrollytelling\", \"Design\", \"JavaScript\", \"Web Development\", \"Greensock\"],\n  \"growthStage\": \"Budding\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n      console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n      return <div {...props}/>\n    };\nconst IntroParagraph = makeShortcode(\"IntroParagraph\");\nconst Footnote = makeShortcode(\"Footnote\");\nconst FullWidthImage = makeShortcode(\"FullWidthImage\");\nconst SimpleCard = makeShortcode(\"SimpleCard\");\nconst Center = makeShortcode(\"Center\");\nconst Tween = makeShortcode(\"Tween\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <IntroParagraph mdxType=\"IntroParagraph\">\n      <p>{`Using the `}<a parentName=\"p\" {...{\n          \"href\": \"https://greensock.com/\"\n        }}>{`GreenSock`}</a>{` web animation library (also known as gsap) in vanilla JavaScript isn't too complex. But when we want it to play nicely with a frontend framework like React, we run into some finicky issues.`}</p>\n    </IntroParagraph>\n    <p>{`This guide is specifically about using React Hooks with GreenSock, as many of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://greensock.com/react/\"\n      }}>{`existing guides`}</a>{` only explain how to set it up with the old style of class components.`}</p>\n    <p>{`This isn't an introduction to the GreenSock library itself – head over to my post on [`}{`[The Bare Essentials of Greensock]`}{`] for that.`}</p>\n    <br />\n    <h2>{`React, Meet GreenSock`}</h2>\n    <p>{`The issue with combining these two libraries is that React acts as a DOM interloper – it sits between the code we write and the DOM, managing it for us.`}</p>\n    <p>{`React builds it's own internal \"tree\" of DOM nodes based off our code, and only updates the actual DOM as needed (a concept previously known as the [`}{`[React Virtual DOM]`}{`]) `}<Footnote idName={1} mdxType=\"Footnote\">{`The React team has gone off the term of the `}<em parentName=\"p\">{`virtual DOM`}</em>{` and prefer to talk about the `}<em parentName=\"p\">{`render tree`}</em>{`. Potatoes, potataos. For more on how the virtual DOM works, I have an `}<a parentName=\"p\" {...{\n          \"href\": \"/react-vdom\"\n        }}>{`illustrated guide`}</a></Footnote></p>\n    <FullWidthImage alt=\"A diagram of React generating all the DOM nodes for us\" src=\"https://res.cloudinary.com/dg3gyk0gu/image/upload/c_scale,f_auto,q_100,w_1400/v1600973172/maggieappleton.com/notes/gsap/react-greensock-2.png\" mdxType=\"FullWidthImage\" />\n    <p>{`Meanwhile, the GreenSock library usually works by directly animating our DOM elements. Perhaps you can sense the tension in the room...`}</p>\n    <p>{`Since the GreenSock library needs access to the DOM  in order to animate it, we need to tell React about our Greensock animations. Otherwise the two end up in awkward arguments that can end in tears (primarily mine).`}</p>\n    <br />\n    <h2>{`Bring in the React Hooks`}</h2>\n    <p>{`There's two essential React hooks we'll use to connect our React code to our  Greensock code: `}<strong parentName=\"p\">{`useRef`}</strong>{` and `}<strong parentName=\"p\">{`useEffect`}</strong></p>\n    <br />\n    <SimpleCard width=\"740px\" mdxType=\"SimpleCard\">\n      <h4><strong parentName=\"h4\">{`useRef`}</strong>{` lets us access and directly target our DOM nodes`}</h4>\n    </SimpleCard>\n    <SimpleCard width=\"740px\" mdxType=\"SimpleCard\">\n      <h4><strong parentName=\"h4\">{`useEffect`}</strong>{` lets us to perform side effects – any functions or data requests that we want to run `}<em parentName=\"h4\">{`after`}</em>{` rendering the component to the DOM`}</h4>\n    </SimpleCard>\n    <p>{`If you're not completely comfortable with `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.freecodecamp.org/news/beginners-guide-to-using-react-hooks/\"\n      }}>{`React Hooks`}</a>{` yet and those technical explanations mean nothing to you, don't worry we're going to slowly walk through this.  With illustrations. Because  who the fork properly understands `}<em parentName=\"p\">{`\"side effects\"`}</em>{`?`}</p>\n    <hr></hr>\n    <h3>{`Getting Setup`}</h3>\n    <p>{`We first need to run `}<inlineCode parentName=\"p\">{`yarn install gsap`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`npm install gsap`}</inlineCode>{` into our React project repo `}<Footnote idName={2} mdxType=\"Footnote\"><strong parentName=\"p\">{`gsap`}</strong>{` is short for `}<em parentName=\"p\">{`GreenSock Animation Platform`}</em>{` and it's the way we reference the Greensock library in all our code sytax`}</Footnote></p>\n    <br />\n    <SimpleCard width=\"740px\" center mdxType=\"SimpleCard\">\n      <p>{`Feel free to open up a Codesandbox project to work through the steps while you read. I've set one up for you with React and Greensock already installed:`}</p>\n      <p><a noTip href=\"https://codesandbox.io/s/reacthooks-greensock-demo-xjoti?file=/src/AnimatedBox.js\"><button style={{\n            marginTop: '0.2em'\n          }}>Jump into CodeSandbox</button> </a></p>\n    </SimpleCard>\n    <br />\n    <h3>{`Building our Animation Component`}</h3>\n    <p>{`Let's start by creating a React component called `}<inlineCode parentName=\"p\">{`<AnimatedBox/>`}</inlineCode>{` that is going to hold all our Greensock code. We're going to build a simple  `}<inlineCode parentName=\"p\">{`<div>`}</inlineCode>{`  element and have it animate across the page (exciting!).`}</p>\n    <p>{`We'll need to import the Greensock library into our component with `}<inlineCode parentName=\"p\">{`import { gsap }from 'gsap'`}</inlineCode>{`, as well as React and our two hooks with `}<inlineCode parentName=\"p\">{`import React, { useRef, useEffect } from 'react'`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import React, { useRef, useEffect } from 'react'\nimport { gsap }from 'gsap'\n\nconst Animation = () => {\n    return (\n        <div style={{\n            width: '160px',\n            height: '160px',\n            background: 'salmon'\n        }} />\n    )\n}\n\n`}</code></pre>\n    <p>I've set some basic width, height, and colour CSS styles on our div to make it visible on the page.</p>\n    <div style={{\n      margin: '2em auto',\n      width: '160px',\n      height: '160px',\n      background: 'salmon',\n      borderRadius: '4px'\n    }} />\n    <Center mdxType=\"Center\">\n      <p>{`Good looking div, right?`}<br parentName=\"p\"></br>{`\n`}{`Salmon is always the right colour choice.`}</p>\n    </Center>\n    <hr></hr>\n    <h2>{`Adding the useRef Hook`}</h2>\n    <p>{`We're now going to add `}<em parentName=\"p\">{`references`}</em>{` to our animation with the `}<strong parentName=\"p\">{`useRef`}</strong>{` hook.`}</p>\n    <p>{`We create a new reference by adding `}<inlineCode parentName=\"p\">{`const boxRef = useRef()`}</inlineCode>{` anywhere outside of our return statement. Call it anything you like, but `}<em parentName=\"p\">{`boxRef`}</em>{` is a good enough name for this example.`}</p>\n    <p>{`We then add a `}<inlineCode parentName=\"p\">{`ref={boxRef}`}</inlineCode>{` attribute on our `}<inlineCode parentName=\"p\">{`<div>`}</inlineCode>{` element.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const Animation = () => {\n    const boxRef = useRef()\n\n    return (\n        <div ref={boxRef} style={{\n            width: '160px',\n            height: '160px',\n            background: 'salmon'\n        }} />\n    )\n}\n`}</code></pre>\n    <p>{`This tells React we want to be able to control our `}<inlineCode parentName=\"p\">{`<div>`}</inlineCode>{` element with the `}<inlineCode parentName=\"p\">{`boxRef`}</inlineCode>{` reference once our component is mounted onto the DOM.`}</p>\n    <hr></hr>\n    <h2>{`Adding the useEffect Hook`}</h2>\n    <p>{`Next we're going to add our `}<strong parentName=\"p\">{`useEffect`}</strong>{` hook, and write our GreenSock animation inside of it.`}</p>\n    <p>{`If you're already familiar with greensock this will look fairly straightforward.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const Animation = () => {\n    const boxRef = useRef()\n\n    useEffect(() => {\n        gsap.to([boxRef.current], {\n            x: '400px',\n            duration: 2\n        })\n    })\n\n    return (\n        <div ref={boxRef} style={{\n            width: '160px',\n            height: '160px',\n            background: 'salmon'\n        }} />\n    )\n}\n`}</code></pre>\n    <p>{` We declare a normal `}<inlineCode parentName=\"p\">{`gsap.to()`}</inlineCode>{` tween, but instead of passing in an id or class name as the target element, we use `}<inlineCode parentName=\"p\">{`[boxRef.current]`}</inlineCode>{`. `}</p>\n    <p>{` This means we want gsap to animate the `}<inlineCode parentName=\"p\">{`.current`}</inlineCode>{` property of our `}<inlineCode parentName=\"p\">{`boxRef`}</inlineCode>{` reference – which is the `}<inlineCode parentName=\"p\">{`<div>`}</inlineCode>{` element we put that reference on. `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`gsap.to([boxRef.current], {\n\n})\n`}</code></pre>\n    <p>{` We then pass in our variables object, which tells Greensock to move our div 400px along the `}<em parentName=\"p\">{`x`}</em>{` axis over a duration of 2 seconds:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`{ x: 400px, duration: 2 }\n`}</code></pre>\n    <p>{`And thus, our div animates...`}</p>\n    <p>\n      <Tween to={{\n        scrollTrigger: {\n          trigger: '#boxRef',\n          start: 'top 60%',\n          end: '+=500',\n          scrub: true\n        },\n        x: '400px'\n      }} duration={2} ease=\"back.out(1.3)\" mdxType=\"Tween\">\n    <div id=\"boxRef\" style={{\n          margin: '2em',\n          width: '160px',\n          height: '160px',\n          background: 'salmon',\n          borderRadius: '4px'\n        }} />\n      </Tween>\n    </p>\n    <Center mdxType=\"Center\">\n      <h1>{`Tada `}<span>{`🎉`}</span></h1>\n    </Center>\n    <p>{`So by this point, you hopefully have a working animation in that `}<a parentName=\"p\" {...{\n        \"href\": \"https://codesandbox.io/s/reacthooks-greensock-demo-xjoti?file=/src/AnimatedBox.js\"\n      }}>{`Codesandbox project`}</a>{` or a local repo.`}</p>\n    <hr></hr>\n    <p>{`If you don't feel like mucking around with `}<strong parentName=\"p\">{`useRef`}</strong>{` and `}<strong parentName=\"p\">{`useEffect`}</strong>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"https://johnlindquist.com/use-greensock-with-react-hooks/\"\n      }}>{`John Lindquist`}</a>{` created a simple React hook called `}<strong parentName=\"p\">{`use-gsap`}</strong>{` that hides them away.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}